<MainScreen>:
    name: "Main-Layout"
    number: number
    NavigationLayout:
        ScreenManager:
            id: screen_manager
            Screen:
                name: "home-screen"
                MDLabel:
                    text: "[b]Welcome to IPU Results App[/b]"
                    halign: "center"
                    font_style: "H4"
                    markup: True
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        title: "Home"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state()]]
                        elevation :12

                    Widget:


            Screen:
                name: "about-screen"
                BoxLayout:
                    orientation: "vertical"
                    MDToolbar:
                        title: "About"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state()]]
                        elevation :12

                    Widget:

                MDLabel:
                    text: "This app is made as an [b]extension to the current website[/b] and [b]telegram bot[/b].[i] Using this app you can fetch your results which usually come in the form of long PDFs which are difficult to analyse. There are numerous columns with different subject codes which often confuses the student. We aim to resolve this difficulty and make your experience better[/i]. [b]New features, data and functionality will be added as the app progress[/b]. Feel free to drop any message related to any discrepancy or any other suggestion. Check out the contact tab for that."
                    halign: "center"
                    markup: True


            Screen:
                name: "contact-screen"
                BoxLayout:
                    orientation: "vertical"
                    MDToolbar:
                        title: "Contact"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state()]]
                        elevation :12

                    Widget:
                BoxLayout:
                    orientation: "vertical"
                    MDLabel:
                        text: ""
                    MDList:
                        OneLineAvatarListItem:
                            on_press: root.openweb("https://www.instagram.com/kaustubhgupta1828/")
                            text: "Instagram"
                            IconLeftWidget:
                                icon: "instagram"

                        OneLineAvatarListItem:
                            on_press: root.openweb("https://www.facebook.com/kaustubh.gupta.1828/")
                            text: "Facebook"
                            IconLeftWidget:
                                icon: 'facebook'


                        OneLineAvatarListItem:
                            on_press: root.openweb("https://twitter.com/Kaustubh1828")
                            text: "Twitter"
                            IconLeftWidget:
                                icon: "twitter"

                        OneLineAvatarListItem:
                            on_press: root.openweb("https://www.linkedin.com/in/kaustubh-gupta-612767ab/")
                            text: "Linkedin"
                            IconLeftWidget:
                                icon: "linkedin"

                        OneLineAvatarListItem:
                            on_press: root.openweb("https://github.com/kaustubhgupta")
                            text: "GitHub"
                            IconLeftWidget:
                                icon: "gitlab"

                        OneLineAvatarListItem:
                            on_press: root.openweb("https://medium.com/@kaustubhgupta1828")
                            text: "Medium"
                            IconLeftWidget:
                                icon: "medium"

                        OneLineAvatarListItem:
                            on_press: root.openweb("https://www.kaustubhgupta.xyz/")
                            text: "Personal Blogging Website"
                            IconLeftWidget:
                                icon: "web"
                    Widget:


            Screen:
                name: "result-screen"
                BoxLayout:
                    orientation: "vertical"
                    MDToolbar:
                        title: "Result"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state()]]
                        elevation :12

                    Widget:

                MDLabel:
                    halign: "center"
                    text: "[b]Marks Summary[/b]"
                    markup: True
                    pos_hint: {'center_x': 0.5, 'center_y': 0.7}
                    font_style: "H6"

                MDLabel:
                    id: other_info
                    halign: "center"
                    text: ""
                    markup: True

                MDRectangleFlatButton:
                    text: 'Marks'
                    pos_hint: {'center_x': 0.5, 'center_y': 0.3}
                    on_press: root.datatables.open()

            Screen:
                name: "input-screen"
                BoxLayout:
                    orientation: "vertical"
                    MDToolbar:
                        title: "Result"
                        left_action_items: [["menu", lambda x: nav_drawer.set_state()]]
                        elevation :12

                    Widget:

                MDTextField:
                    id: number
                    hint_text: "Enter your enrollment number"
                    helper_text_mode: "on_focus"
                    icon_right: "account-search"
                    icon_right_color: app.theme_cls.primary_color
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    size_hint_x: None
                    width: 300
                    required: True

                MDRaisedButton:
                    id: drop_semester
                    pos_hint: {'center_x': .6, 'center_y': .4}
                    text: 'Semester'
                    on_release: root.menu_semester.open()

                MDRaisedButton:
                    id: drop_batch
                    pos_hint: {'center_x': .36, 'center_y': .4}
                    text: 'Batch'
                    on_release: root.menu_batch.open()

                MDRectangleFlatButton:
                    text: 'Submit'
                    pos_hint: {'center_x': 0.5, 'center_y': 0.3}
                    on_press:
                        root.btn()

                MDLabel:
                    id: loading
                    haling: 'center'
                    text: ''
                    font_style: "H4"
                    theme_text_color: 'Custom'
                    text_color: (1, 0, 0, 1)

        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: "vertical"
                spacing: '8dp'
                padding: '8dp'
                Image:
                    source: "logo.jpg"
                    size_hint_x:
                MDLabel:
                    text: "IPU Results App"
                    font_style: "H4"
                    size_hint_y: None
                    height: self.texture_size[1]

                MDLabel:
                    text: "From the Creator of IPUResults Website & IPUTelegrambot"
                    font_style: "Subtitle1"
                    size_hint_y: None
                    height: self.texture_size[1]

                ScrollView:
                    MDList:
                        OneLineAvatarListItem:
                            on_press:
                                nav_drawer.set_state("close")
                                screen_manager.current = "home-screen"
                            text: "Home"
                            IconLeftWidget:
                                icon: "home"

                        OneLineAvatarListItem:
                            on_press:
                                nav_drawer.set_state("close")
                                screen_manager.current = "about-screen"
                            text: "About"
                            IconLeftWidget:
                                icon: 'information'


                        OneLineAvatarListItem:
                            on_press:
                                nav_drawer.set_state("close")
                                screen_manager.current = "input-screen"
                            text: "Check Results"
                            IconLeftWidget:
                                icon: "account-search"

                        OneLineAvatarListItem:
                            on_press:
                                nav_drawer.set_state("close")
                                screen_manager.current = "contact-screen"
                            text: "Contact"
                            IconLeftWidget:
                                icon: "contacts"

                        OneLineAvatarListItem:
                            on_press: root.openweb("https://ipuresultskg.herokuapp.com/")
                            text: "Visit website"
                            IconLeftWidget:
                                icon: "web"

                        OneLineAvatarListItem:
                            on_press: root.openweb("https://t.me/ipuBOT")
                            text: "Telegram Bot"
                            IconLeftWidget:
                                icon: "telegram"

